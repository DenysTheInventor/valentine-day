<!-- Deploy: drag this folder into Netlify or connect this repo. -->
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Be My Valentine?</title>
  <style>
    :root {
      --pink-1: #ffd6e5;
      --pink-2: #ffc3d8;
      --card: #ffffff;
      --text: #2b2330;
      --yes: #d84c6f;
      --yes-hover: #bf4161;
      --no-border: #d6c9cf;
      --focus: #7d4a9f;
    }

    * { box-sizing: border-box; }

    body {
      margin: 0;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      font-family: Inter, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Arial, sans-serif;
      color: var(--text);
      background: linear-gradient(145deg, var(--pink-1), var(--pink-2));
      overflow: hidden;
      position: relative;
      padding: 20px;
    }

    .hearts,
    .hearts::before,
    .hearts::after {
      content: "";
      position: absolute;
      width: 12px;
      height: 12px;
      background: rgba(255, 255, 255, 0.45);
      transform: rotate(45deg);
      border-radius: 2px;
      animation: float 8s linear infinite;
      pointer-events: none;
    }

    .hearts { top: 90%; left: 20%; }
    .hearts::before { left: 45vw; top: -40vh; animation-duration: 11s; }
    .hearts::after { left: 70vw; top: -10vh; animation-duration: 10s; }

    @keyframes float {
      0% { transform: translateY(0) rotate(45deg); opacity: 0; }
      10% { opacity: 0.8; }
      100% { transform: translateY(-110vh) rotate(45deg); opacity: 0; }
    }

    .card {
      position: relative;
      z-index: 2;
      width: min(90vw, 520px);
      background: var(--card);
      border-radius: 18px;
      padding: 32px;
      box-shadow: 0 12px 40px rgba(87, 35, 62, 0.17);
      text-align: center;
      animation: fadeIn 500ms ease;
    }

    @keyframes fadeIn {
      from { opacity: 0; transform: translateY(8px); }
      to { opacity: 1; transform: translateY(0); }
    }

    h1 {
      margin: 0;
      font-size: clamp(1.4rem, 2.2vw + 0.8rem, 2rem);
      line-height: 1.25;
      letter-spacing: 0.01em;
    }

    .button-area {
      margin-top: 26px;
      position: relative;
      min-height: 130px;
    }

    button {
      border: 0;
      border-radius: 999px;
      padding: 12px 26px;
      font-size: 1rem;
      font-weight: 600;
      cursor: pointer;
      transition: transform 180ms ease, background-color 180ms ease, box-shadow 180ms ease, left 220ms ease, top 220ms ease;
      touch-action: manipulation;
      white-space: nowrap;
    }

    button:focus-visible {
      outline: 3px solid var(--focus);
      outline-offset: 2px;
    }

    #yesBtn,
    #noBtn {
      position: absolute;
      top: 20px;
    }

    #yesBtn {
      background: var(--yes);
      color: #fff;
      box-shadow: 0 8px 18px rgba(216, 76, 111, 0.35);
    }

    #yesBtn:hover { background: var(--yes-hover); transform: translateY(-2px); }

    #noBtn {
      background: #fff;
      color: var(--text);
      border: 1px solid var(--no-border);
      box-shadow: 0 6px 16px rgba(73, 42, 55, 0.08);
    }

    .gif-wrap {
      margin: 6px auto 0;
      max-width: 320px;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 8px 20px rgba(87, 35, 62, 0.12);
    }

    .gif-wrap iframe {
      width: 100%;
      aspect-ratio: 1.45 / 1;
      border: 0;
      display: block;
    }

    @media (max-width: 560px) {
      .card { padding: 24px 20px 24px; }
      .button-area { min-height: 145px; }
      .gif-wrap { max-width: 100%; }
    }
  </style>
</head>
<body>
  <div class="hearts" aria-hidden="true"></div>

  <main class="card" aria-live="polite">
    <h1>Will you be my Valentine today?</h1>

    <div class="button-area" id="buttonArea">
      <button id="yesBtn" type="button">Yes</button>
      <button id="noBtn" type="button" aria-label="No, but this button runs away">No</button>
    </div>

    <div class="gif-wrap">
      <iframe
        src="https://giphy.com/embed/KztT2c4u8mYYUiMKdJ"
        loading="lazy"
        allowfullscreen
        title="Cute cats GIF"
      ></iframe>
    </div>
  </main>

  <script>
    const yesBtn = document.getElementById('yesBtn');
    const noBtn = document.getElementById('noBtn');
    const area = document.getElementById('buttonArea');

    const thresholdDesktop = 120;
    const thresholdTouch = 115;
    const centeredGap = 16;

    yesBtn.addEventListener('click', () => {
      window.location.href = 'yes.html';
    });

    function clamp(value, min, max) {
      return Math.max(min, Math.min(value, max));
    }

    function setCenteredStartPositions() {
      const areaRect = area.getBoundingClientRect();
      const yesRect = yesBtn.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();
      const pairWidth = yesRect.width + noRect.width + centeredGap;
      const startLeft = Math.max(4, (areaRect.width - pairWidth) / 2);

      yesBtn.style.left = `${clamp(startLeft, 4, areaRect.width - yesRect.width)}px`;
      yesBtn.style.top = '20px';

      const noStart = startLeft + yesRect.width + centeredGap;
      noBtn.style.left = `${clamp(noStart, 4, areaRect.width - noRect.width)}px`;
      noBtn.style.top = '20px';
    }

    function overlapsYes(candidateLeft, candidateTop, noRect, yesRect, areaRect) {
      const gap = 16;
      const noLeft = areaRect.left + candidateLeft - gap;
      const noRight = noLeft + noRect.width + gap * 2;
      const noTop = areaRect.top + candidateTop - gap;
      const noBottom = noTop + noRect.height + gap * 2;

      return !(noRight < yesRect.left || noLeft > yesRect.right || noBottom < yesRect.top || noTop > yesRect.bottom);
    }

    function moveNoButton() {
      const areaRect = area.getBoundingClientRect();
      const noRect = noBtn.getBoundingClientRect();
      const yesRect = yesBtn.getBoundingClientRect();
      const maxLeft = areaRect.width - noRect.width;
      const maxTop = areaRect.height - noRect.height;

      let left = clamp(Math.random() * Math.max(10, maxLeft - 4), 4, maxLeft);
      let top = clamp(Math.random() * Math.max(10, maxTop - 4), 4, maxTop);

      for (let tries = 0; tries < 20; tries += 1) {
        if (!overlapsYes(left, top, noRect, yesRect, areaRect)) break;
        left = clamp(Math.random() * Math.max(10, maxLeft - 4), 4, maxLeft);
        top = clamp(Math.random() * Math.max(10, maxTop - 4), 4, maxTop);
      }

      if (overlapsYes(left, top, noRect, yesRect, areaRect)) {
        left = yesRect.left - areaRect.left < areaRect.width / 2 ? maxLeft : 4;
        top = clamp(maxTop - 4, 4, maxTop);
      }

      noBtn.style.left = `${left}px`;
      noBtn.style.top = `${top}px`;
    }

    function distanceToNoButton(x, y) {
      const rect = noBtn.getBoundingClientRect();
      const cx = rect.left + rect.width / 2;
      const cy = rect.top + rect.height / 2;
      return Math.hypot(x - cx, y - cy);
    }

    document.addEventListener('pointermove', (event) => {
      if (event.pointerType !== 'mouse') return;
      if (distanceToNoButton(event.clientX, event.clientY) < thresholdDesktop) {
        moveNoButton();
      }
    });

    noBtn.addEventListener('pointerenter', moveNoButton);
    noBtn.addEventListener('pointerdown', (event) => {
      if (event.pointerType !== 'mouse') {
        event.preventDefault();
      }
      moveNoButton();
    });

    area.addEventListener('pointerdown', (event) => {
      if (event.pointerType === 'mouse') return;
      if (distanceToNoButton(event.clientX, event.clientY) < thresholdTouch) {
        moveNoButton();
      }
    });

    window.addEventListener('resize', setCenteredStartPositions);
    window.addEventListener('load', setCenteredStartPositions);
  </script>
</body>
</html>
